\usepackage{scrextend}
\usepackage{geometry}
 \geometry{
	 a4paper,
 	total={170mm,257mm},
 	left=20mm,
	 top=20mm,
 }

\usepackage{amsmath}
\usepackage[shortlabels]{enumitem} %enumerate with letters
\usepackage[normalem]{ulem}
\usepackage{indentfirst}
\usepackage{pifont}
\usepackage{fancyhdr}   % 頁首頁尾
\usepackage{amssymb}
\usepackage{pgfplots}
\pgfplotsset{compat=1.15}
\usetikzlibrary{arrows}

% \usepackage{xeCJK}      % 中文
% \setCJKmainfont{AR PL KaitiM Big5}
% \setCJKsansfont{AR PL KaitiM Big5}
% \setCJKmonofont{AR PL KaitiM Big5}
% \defaultCJKfontfeatures{AutoFakeBold=3,AutoFakeSlant=.4}
% \newCJKfontfamily\Kai{標楷體}
% The above is for XeLaTeX
\usepackage{CJKutf8}
% bkai = 標楷體
% bsmi = 新細明體
% To call, use 
% \begin{CJK}{UTF8}{bkai} \end{CJK}
% \begin{CJK}{UTF8}{bsmi} \end{CJK}

\usepackage{graphicx} % Required for inserting images

% paragraph
%\setlength{\parskip}{\baselineskip}
\setlength{\parindent}{2em}
%
\usepackage{lmodern,bm}                
\usepackage[T1]{sansmath} 
\SetMathAlphabet{\mathsfbf}{sans}{\sansmathencoding}{\sfdefault}{bx}{sl}
\usepackage{etoolbox}
\AtBeginEnvironment{sansmath}{\let\bm\mathsfbf}{}{}
\usepackage{mdframed}
\usepackage{braket} % braket notation
\usepackage{amsmath, nccmath}

\usepackage{bbm}
\usepackage{dsfont} % bold numerals
\usepackage{bbold} % blackboard bold font
\usepackage{mathrsfs} % script

%% custom norm
\newcommand{\Norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\Abs}[1]{\left\lvert#1\right\rvert}
%%

% circled number
\newcommand*\circlednum[1]{\raisebox{.5pt}{\textcircled{\raisebox{-.9pt} {#1}}}}

\usepackage{relsize} % math symbol size

\usepackage{amsthm}
\newtheorem{thm}{Theorem}[section]
\newtheorem{mydef}{Definition}[section]
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{proposition}[thm]{Proposition}
\newtheorem{corollary}[thm]{Corollary}
\newtheorem{property}{Property}

\newtheoremstyle{problemstyle}
        {5pt} % <space above>
        {15pt} % <space below>
        {\normalfont} % <body font>
        {} % <indent amount}
        {\bfseries} % <theorem head font>
        {\normalfont\bfseries.} % <punctuation after theorem head>
        {.5em} % <space after theorem head>
        {} % <theorem head spec (can be left empty, meaning `normal')>
\theoremstyle{problemstyle}
\newtheorem{problem}{Problem}[section]
\newtheorem{solution}{Solution}[section]
\newtheorem{example}{Example}[section]

\newenvironment{problembk}[1][]{%
  \begin{problem}[#1]$ $\par\nobreak\ignorespaces
}{%
  \end{problem}
}
\newenvironment{solutionbk}[1][]{%
  \begin{solution}[#1]$ $\par\nobreak\ignorespaces
}{%
  \end{solution}
}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\usepackage{mdframed}
\newenvironment{fthm}
    {\begin{mdframed}\begin{thm}}
    {\end{thm}\end{mdframed}}

\newcommand{\bvec}[1]{\mathbf{#1}} % vector

% calculus
\newcommand{\D}{\mathrm{d}}
\newcommand{\Par}{\partial}
% Calligraphy (Euler script?)
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cT}{\mathcal{T}}
% Calligraphy (blackboard bold)
\newcommand{\bC}{\mathbbm{C}}
\newcommand{\bD}{\mathbbm{D}}
\newcommand{\bF}{\mathbbm{F}}
\newcommand{\bH}{\mathbbm{H}}
\newcommand{\bI}{\mathbbm{I}}
\newcommand{\bK}{\mathbbm{K}}
\newcommand{\bN}{\mathbbm{N}}
\newcommand{\bO}{\mathbbm{O}}
\newcommand{\bP}{\mathbbm{P}}
\newcommand{\bQ}{\mathbbm{Q}}
\newcommand{\bR}{\mathbbm{R}}
\newcommand{\bT}{\mathbbm{T}}
\newcommand{\bZ}{\mathbbm{Z}}
% Calligraphy (fraktur font)
\newcommand{\fI}{\mathfrak{I}}
\newcommand{\fR}{\mathfrak{R}}
% lower indices (roman)
\newcommand{\rC}{\mathrm{C}} % Curie constant
\newcommand{\rf}{\mathrm{f}} % final
\newcommand{\ri}{\mathrm{i}} % initial
\newcommand{\rT}{\mathrm{T}} % isothermal

% figures
\usepackage{wrapfig} 
\usepackage{subfig}

% ckickable table of contents
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=blue,
    urlcolor=black
}